<div class="common-wrapper">
    <div class="inner-header">
        <h2>Invoices</h2>
    </div>
    <div class="inner-content">
        <div class="d-flex column-gap10">
            <mat-form-field appearance="outline">
                <mat-label>Status</mat-label>
                <mat-select>
                    <mat-option value="option1">All Estimates</mat-option>
                    <mat-option value="option1">Open Estimates</mat-option>
                    <mat-option value="option1">Accepted Estimates</mat-option>
                    <mat-option value="option1">Declined Estimates</mat-option>
                    <mat-option value="option1">Invoiced Estimates</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Sort By</mat-label>
                <mat-select>
                    <mat-option value="option1">Invoice #</mat-option>
                    <mat-option value="option1">Date</mat-option>
                    <mat-option value="option1">Total</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <!-- invoice-selected -->
        <div class="d-flex column-gap10 align-items-center invoice-res-reslected">
            <div class="d-flex align-items-center column-gap10">
                <button mat-stroked-button color="primary">Download PDF</button>
                <button mat-stroked-button color="primary" (click)="openPayDialog()">Pay Now</button>
            </div>
            <p class="text-mute mr-l2">1 Invoices Selected</p>
        </div>
        <!-- invoice table -->
        <div class="invoice-table mr-t15">
            <div class="table-responsive">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
                    <ng-container matColumnDef="invoice">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>
                            <mat-checkbox class="mr-r1"></mat-checkbox>
                            Invoice#
                        </th>
                        <td mat-cell *matCellDef="let element">
                            <mat-checkbox class="mr-r1"></mat-checkbox>
                            <a href="javascript:;">
                                {{element.invoice}}
                            </a>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="reference">
                        <th mat-header-cell *matHeaderCellDef> Reference# </th>
                        <td mat-cell *matCellDef="let element"> {{element.reference}} </td>
                    </ng-container>
                    <ng-container matColumnDef="date">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
                        <td mat-cell *matCellDef="let element"> {{element.date}} </td>
                    </ng-container>
                    <ng-container matColumnDef="total">
                        <th mat-header-cell *matHeaderCellDef class="text-right sort-header-right" mat-sort-header>
                            Total </th>
                        <td mat-cell *matCellDef="let element" class="text-right"> {{element.total}} </td>
                    </ng-container>
                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef> Status </th>
                        <td mat-cell *matCellDef="let element">
                            <div class="d-flex justify-content-between column-gap5">
                                <span class="color-overdue">{{element.status}}</span>
                                <button mat-stroked-button color="primary">Pay Now</button>
                            </div>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator> -->
                <!-- <div class="text-center pd-t1 pd-b1">
                    <p class="no-data">There are no open estimates which await your approval.</p>
                </div> -->
            </div>
            <mat-paginator [pageSizeOptions]="[5, 10, 20]" aria-label="Select page of periodic elements">
            </mat-paginator>
        </div>
    </div>

    <!-- invoice-click -->
    <div class="invoice-open small-container">
        <div class="back-header d-flex justify-content-between align-items-center">
            <a href="javascript:;">
                <img src="../../assets/images/chevron.svg" alt="arrow"> Back
            </a>
            <div class="d-flex column-gap10">
                <button mat-stroked-button color="primary" (click)="openForwardDialog()">Forward</button>
                <button mat-stroked-button color="primary">
                    <img src="../../assets/images/print.svg" alt="print"> Print
                </button>
                <button mat-stroked-button color="primary">
                    <img src="../../assets/images/download.svg" alt="download">
                </button>
            </div>
        </div>
        <div class="comment-container">
            <mat-form-field class="w-100 mr-t5 mr-b15" appearance="outline">
                <mat-label>Enter Your Comments</mat-label>
                <textarea rows="2" matInput placeholder="Enter Your Comments"></textarea>
            </mat-form-field>
            <button mat-stroked-button color="primary">Add Comment</button>
        </div>
    </div>
</div>

<!-- onclick paynow -->
<ng-template #paymodal>
    <div class="common-dialog">
        <div class="d-flex dialog-header">
            <h4>Pay for Multiple Invoices</h4>
            <span mat-dialog-close class="cp">×</span>
        </div>
        <mat-dialog-content>
            <div class="alert-wrapper">
                <div class="d-flex column-gap10">
                    <img src="../../assets/images/warning.svg" alt="warning">
                    <p> Some of the selected invoices cannot be paid because:</p>
                </div>
                <ul class="mr-l2">
                    <li class="mr-l15">They've already been paid</li>
                </ul>
            </div>
            <div class="accordion-wrap mr-t2">
                <mat-accordion>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Invoices that cannot be paid (1)
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="table-responsive payment-table">
                            <table mat-table [dataSource]="dataSourcePay" class="mat-elevation-z8">
                                <ng-container matColumnDef="invoice">
                                    <th mat-header-cell *matHeaderCellDef>Invoice#</th>
                                    <td mat-cell *matCellDef="let element">{{element.invoice}}</td>
                                </ng-container>
                                <ng-container matColumnDef="amount">
                                    <th mat-header-cell *matHeaderCellDef> Amount </th>
                                    <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
                                </ng-container>
                                <ng-container matColumnDef="status">
                                    <th mat-header-cell *matHeaderCellDef> Status </th>
                                    <td mat-cell *matCellDef="let element">{{element.status}}
                                    </td>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumnsPay"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsPay;"></tr>
                            </table>
                        </div>
                    </mat-expansion-panel>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                Invoices that can be paid (0)
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <div class="table-responsive payment-table">
                            <table mat-table [dataSource]="dataSourcePay" class="mat-elevation-z8">
                                <ng-container matColumnDef="invoice">
                                    <th mat-header-cell *matHeaderCellDef>Invoice#</th>
                                </ng-container>
                                <ng-container matColumnDef="amount">
                                    <th mat-header-cell *matHeaderCellDef> Amount </th>
                                </ng-container>
                                <ng-container matColumnDef="status">
                                    <th mat-header-cell *matHeaderCellDef> Status </th>
                                </ng-container>
                                <tr mat-header-row *matHeaderRowDef="displayedColumnsPay"></tr>
                            </table>
                        </div>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
            <div class="d-flex column-gap5 footer-btn">
                <button mat-stroked-button color="primary">Proceed to Payment</button>
                <button mat-stroked-button mat-dialog-close>Cancel</button>
            </div>
        </mat-dialog-content>
    </div>
</ng-template>

<!-- onclick Forward -->
<ng-template #forwardmodal>
    <div class="common-dialog">
        <div class="d-flex dialog-header">
            <h4>Forward</h4>
            <span mat-dialog-close class="cp">×</span>
        </div>
        <mat-dialog-content>
            <div class="forward-wrapper">
                <mat-form-field appearance="outline" class="w-100 mr-b15">
                    <mat-label>Contact Person's email</mat-label>
                    <input type="text" matInput [matAutocomplete]="auto" placeholder="sdf" [formControl]="myControl">
                    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                        <mat-option [value]="'shubhendra@msg91.com'">shubhendra@msg91.com</mat-option>
                        <mat-option [value]="'accounts@msg91.com'">accounts@msg91.com</mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <mat-form-field appearance="outline" class="w-100 mr-b15">
                    <input matInput
                        value="Invoice (INV2022-110563) from 360dialog GmbH forwarded by Shubhendra Agrawal">
                </mat-form-field>
                <mat-form-field class="w-100 mr-t5 mr-b15" appearance="outline">
                    <textarea rows="8" matInput value="Hi,
                    Invoice (INV2022-110563) sent by 360dialog GmbH for amount €0,00 is forwarded to you. You can download or view the PDF file attached with this email.
                    Regards,
                    Shubhendra Agrawal"></textarea>
                </mat-form-field>
                <p>Attachments: INV2022-110563.pdf</p>
            </div>
            <div class="d-flex column-gap5 footer-btn">
                <button mat-stroked-button color="primary">Send</button>
                <button mat-stroked-button mat-dialog-close>Cancel</button>
            </div>
        </mat-dialog-content>
    </div>
</ng-template>

<!-- pay-invoices -->
<div class="pay-invoice-wrapper">
    <div class="inner-header d-flex justify-content-between align-items-center">
        <h2>Pay All Invoices</h2>
        <span class="cp">×</span>
    </div>
    <div class="pay-invoice-content mr-b2 mr-t15">
        <div class="invoice-content-header d-flex justify-content-between align-items-center">
            <div class="amount-total">
                <img src="../../assets/images/note.svg" alt="notebook">
                <div>
                    <p class="text-mute">Total Amount</p>
                    <span class="mr-t5 d-block">€4.405,87</span>
                </div>
            </div>
            <div>
                <button mat-stroked-button color="primary" (click)="togglePanel()">For 2 invoices</button>
            </div>
        </div>
        <div class="invoice-content">
            <mat-accordion multi>
                <mat-expansion-panel hideToggle [expanded]="panelOpenState">
                    <div class="inv-header mr-t2">
                        <p class="text-uppercase">Invoice #</p>
                        <p class="text-uppercase">Due on</p>
                        <p class="text-right text-uppercase">Balance Due</p>
                    </div>
                    <div class="inv-body">
                        <p>INV2023-090562</p>
                        <p>08-09-2023</p>
                        <p class="text-right">€349,00</p>
                    </div>
                    <div class="inv-body">
                        <p>INV2023-090562</p>
                        <p>08-09-2023</p>
                        <p class="text-right">€349,00</p>
                    </div>
                    <p class="mr-t1">If you want to pay only for an individual invoice, you can do so from the <a
                            href="javascript:;">list view of invoices.</a></p>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </div>

    <div class="pay-invoice-content invoice-tab mr-b2">
        <div class="invoice-content">
            <mat-tab-group mat-stretch-tabs="false" animationDuration="0ms">
                <mat-tab label="PayPal">
                    <button mat-stroked-button color="primary" class="text-uppercase">Proceed to payment</button>
                </mat-tab>
                <mat-tab label="Credit Card">
                    <div class="mendatory d-flex justify-content-between">
                        <div class="d-flex column-gap10">
                            <img src="../../assets/images/info.svg" alt="info">
                            <p>All the fields on this page are mandatory.</p>
                        </div>
                        <span class="cp text-mute">×</span>
                    </div>
                    <div class="credit-tab mr-t1">
                        <p class="text-mute mr-b15">Pay swiftly through your credit card.</p>
                        <h4>Card Details</h4>
                        <p class="text-mute mr-t15 mr-b15 detail-card">Your card details are sent to Stripe via secure
                            SSL connection for payment processing. We do
                            not store your card information in our servers.</p>
                        <div>
                            <mat-form-field appearance="outline" class="mr-b15 w-100">
                                <mat-label class="text-uppercase">Card Number</mat-label>
                                <input matInput required type="number" placeholder="1234 1234 1234 1234">
                            </mat-form-field>
                            <div class="d-flex column-gap10">
                                <mat-form-field appearance="outline" class="mr-b15 w-100">
                                    <mat-label class="text-uppercase">cvv</mat-label>
                                    <input matInput class="text-uppercase" required type="number" placeholder="cvc">
                                </mat-form-field>
                                <mat-form-field appearance="outline" class="mr-b15 w-100">
                                    <mat-label>Expires on</mat-label>
                                    <input matInput [matDatepickerFilter]="myFilter" [matDatepicker]="picker">
                                    <mat-hint>MM/DD/YYYY</mat-hint>
                                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <div class="d-flex column-gap10">
                                <mat-form-field appearance="outline" class="mr-b15 w-100">
                                    <mat-label class="text-uppercase">First Name</mat-label>
                                    <input matInput class="text-uppercase" value="Shubhendra">
                                </mat-form-field>
                                <mat-form-field appearance="outline" class="mr-b15 w-100">
                                    <mat-label class="text-uppercase">Last Name</mat-label>
                                    <input matInput class="text-uppercase" value="Agrawal">
                                </mat-form-field>
                            </div>
                            <div>
                                <h4 class="text-uppercase">Billing Address</h4>
                                <p class="text-mute mr-t1 mr-b15">The billing address entered here must match the
                                    billing address of the card holder.
                                </p>
                                <div>
                                    <mat-form-field appearance="outline" class="w-100 mr-b15">
                                        <mat-label>Country</mat-label>
                                        <input type="text" matInput [matAutocomplete]="auto" required>
                                        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                                            <mat-option>India</mat-option>
                                            <mat-option>Iran</mat-option>
                                            <mat-option>Iraq</mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                    <mat-form-field appearance="outline" class="w-100 mr-b15">
                                        <mat-label>Adderss</mat-label>
                                        <textarea matInput rows="2"
                                            value="405 capt cs Naidyu Arcade old palasia Indore MP"></textarea>
                                    </mat-form-field>
                                    <mat-form-field appearance="outline" class="w-100 mr-b15">
                                        <mat-label>City</mat-label>
                                        <input matInput required required>
                                    </mat-form-field>
                                    <mat-form-field appearance="outline" class="w-100 mr-b15">
                                        <mat-label>Postal/Zip Code</mat-label>
                                        <input matInput required type="number" valur="452018" required>
                                    </mat-form-field>
                                    <mat-form-field appearance="outline" class="w-100 mr-b15">
                                        <mat-label>State</mat-label>
                                        <input type="text" matInput [matAutocomplete]="autostate" required>
                                        <mat-autocomplete autoActiveFirstOption #autostate="matAutocomplete">
                                            <mat-option>Madhya Pradesh</mat-option>
                                            <mat-option>Madhya Pradesh</mat-option>
                                            <mat-option>Madhya Pradesh</mat-option>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                    <div>
                                        <button mat-stroked-button color="primary" class="text-uppercase">Make
                                            Payment</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>

<!-- onclick pay now button -->
<div class="pay-invoice-wrapper">
    <div class="inner-header d-flex justify-content-between align-items-center">
        <h2>Payment for INV2023-080901</h2>
        <span mat-dialog-close class="cp">×</span>
    </div>
    <div class="pay-invoice-content mr-b2 mr-t15">
        <div class="invoice-content-header d-flex justify-content-between align-items-center">
            <div class="amount-total date-amount">
                <img src="../../assets/images/note.svg" alt="notebook">
                <div class="date-border">
                    <p class="text-mute">INV2023-080901</p>
                    <span class="mr-t5 d-block">07-09-2023</span>
                </div>
                <div class="balance-due">
                    <p class="text-mute balance-txt">Balance Due</p>
                    <span class="mr-t5 d-block balance-number">€4.056,87</span>
                </div>
            </div>
        </div>
    </div>
</div>